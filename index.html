<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIT STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{background:black;color:white;overflow:hidden;}
#space{position:fixed;inset:0;z-index:0;pointer-events:none;}

.logo{
position:absolute;
top:20px;
left:50%;
transform:translateX(-50%);
font-size:28px;
letter-spacing:6px;
z-index:10;
}

.loginBtn{
position:absolute;
top:20px;
right:20px;
background:#ffd700;
color:black;
padding:6px 14px;
border-radius:8px;
cursor:pointer;
z-index:10;
font-weight:bold;
font-size:14px;
}

.closeX{
position:absolute;
top:15px;
left:15px;
font-size:22px;
cursor:pointer;
color:#ff4444;
}

.neonMessage{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
padding:20px 40px;
border-radius:15px;
background:#111;
font-size:22px;
display:none;
z-index:200;
color:#00ffcc;
text-align:center;
box-shadow:0 0 10px #00ffcc,0 0 20px #00ffcc,0 0 40px #00ffcc,0 0 80px #00ffcc;
animation:fadeOut 3s forwards;
}
@keyframes fadeOut{0%{opacity:1;}80%{opacity:1;}100%{opacity:0;}}

.menu{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
gap:35px;
z-index:10;
width:80%;
align-items:center;
}

.item{
cursor:pointer;
font-size:22px;
padding:12px 30px;
border-radius:12px;
transition:.4s;
}
.item:hover{text-shadow:0 0 10px #ffd700;}

.fullscreen{
position:fixed;
inset:0;
background:black;
display:none;
flex-direction:column;
align-items:center;
z-index:40;
padding-top:90px;
overflow:auto;
}

.products{
display:flex;
gap:20px;
flex-wrap:wrap;
justify-content:center;
width:95%;
position:relative;
z-index:5;
}

.product{
background:#111;
padding:12px;
border-radius:14px;
width:140px;
cursor:pointer;
transition:.4s;
}

.product img{
width:100%;
border-radius:8px;
margin-bottom:8px;
}

.product:hover{
transform:scale(1.08);
box-shadow:0 0 10px #ffd700;
}

.smokeCanvas{
position:absolute;
inset:0;
z-index:1;
pointer-events:none;
}

.detail{
position:fixed;
inset:0;
background:rgba(0,0,0,.95);
display:none;
justify-content:center;
align-items:center;
z-index:60;
}

.detailBox{
background:#111;
padding:25px;
border-radius:18px;
text-align:center;
width:300px;
position:relative;
}

.loginModal{
position:fixed;
inset:0;
background:rgba(0,0,0,.9);
display:none;
justify-content:center;
align-items:center;
z-index:80;
}

.loginBox{
background:#111;
padding:30px;
border-radius:18px;
width:320px;
text-align:center;
position:relative;
}

.loginBox input{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:6px;
background:#222;
color:white;
}

.smallLink{
font-size:13px;
color:#ffd700;
cursor:pointer;
margin-top:8px;
display:block;
}

button{
padding:10px;
margin-top:10px;
border:none;
border-radius:8px;
background:#ffd700;
cursor:pointer;
width:100%;
}

.categoryTitle{
font-size:26px;
margin-bottom:20px;
letter-spacing:3px;
z-index:10;
}
</style>
</head>

<body>

<canvas id="space"></canvas>
<div class="neonMessage" id="neonMsg"></div>

<div class="logo">
<span style="color:#ffd700">ùîê</span>
<span style="color:#ff1a1a">ùî¶</span>
<span style="color:#ffd700">ùîó</span>
</div>

<div class="loginBtn" id="loginBtn" onclick="openLogin()">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</div>

<div class="menu">
<div class="item" onclick="openCategory('HOODIES')">HOODIES</div>
<div class="item" onclick="openCategory('PANTS')">PANTS</div>
<div class="item" onclick="openCategory('ACCESSORIES')">ACCESSORIES</div>
</div>

<div class="fullscreen" id="page">
<div class="closeX" onclick="goHome()">‚úñ</div>
<canvas class="smokeCanvas" id="smoke"></canvas>
<div class="categoryTitle" id="categoryTitle"></div>
<div class="products" id="products"></div>
</div>

<div class="detail" id="detail">
<div class="detailBox" id="detailBox"></div>
</div>

<div class="loginModal" id="loginModal">
<div class="loginBox">
<div class="closeX" onclick="closeLogin()">‚úñ</div>

<div id="loginForm">
<h3>ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ</h3>
<input type="email" id="emailInput" placeholder="ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä">
<input type="password" id="passwordInput" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±">
<button onclick="login()">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ</button>
<span class="smallLink" onclick="showRegister()">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</span>
</div>

<div id="registerForm" style="display:none">
<h3>ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</h3>
<input type="text" id="nameInput" placeholder="ÿßŸÑÿßÿ≥ŸÖ ÿ®ÿßŸÑŸÉÿßŸÖŸÑ">
<input type="email" id="regEmailInput" placeholder="ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä">
<input type="password" id="regPasswordInput" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±">
<input type="password" id="confirmInput" placeholder="ÿ™ÿ£ŸÉŸäÿØ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±">
<button onclick="register()">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</button>
<span class="smallLink" onclick="showLogin()">ÿ±ÿ¨Ÿàÿπ</span>
</div>

</div>
</div>
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore,doc,setDoc,getDoc }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* ================= FIREBASE ================= */

const firebaseConfig={
apiKey:"YOUR_API_KEY",
authDomain:"YOUR_AUTH_DOMAIN",
projectId:"YOUR_PROJECT_ID",
appId:"YOUR_APP_ID"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

/* ================= DOM ================= */

const loginBtn=document.getElementById("loginBtn");
const loginModal=document.getElementById("loginModal");
const loginForm=document.getElementById("loginForm");
const registerForm=document.getElementById("registerForm");
const neonMsg=document.getElementById("neonMsg");
const page=document.getElementById("page");
const products=document.getElementById("products");
const categoryTitle=document.getElementById("categoryTitle");
const detail=document.getElementById("detail");
const detailBox=document.getElementById("detailBox");

/* ================= USER MENU ================= */

const userMenu=document.createElement("div");
userMenu.className="userMenu";
userMenu.innerHTML=`<button onclick="logout()">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿÆÿ±Ÿàÿ¨</button>`;
document.body.appendChild(userMenu);

loginBtn.addEventListener("click",()=>{
if(auth.currentUser){
userMenu.style.display=
userMenu.style.display==="flex"?"none":"flex";
}else{
openLogin();
}
});

/* ================= HELPERS ================= */

function showNeon(text){
neonMsg.innerText=text;
neonMsg.style.display="block";
setTimeout(()=>{neonMsg.style.display="none";},3000);
}

function clearInputs(){
document.querySelectorAll("input").forEach(i=>i.value="");
}

/* ================= AUTH ================= */

window.register=async function(){
if(regPasswordInput.value!==confirmInput.value){
showNeon("ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ŸÖÿ™ÿ∑ÿßÿ®ŸÇÿ©");return;}
try{
const user=await createUserWithEmailAndPassword(auth,regEmailInput.value,regPasswordInput.value);
await setDoc(doc(db,"users",user.user.uid),{
name:nameInput.value,
email:regEmailInput.value
});
showNeon("ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ®");
closeLogin();
}catch(e){showNeon(e.message);}
}

window.login=async function(){
try{
await signInWithEmailAndPassword(auth,emailInput.value,passwordInput.value);
showNeon("ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ");
closeLogin();
}catch(e){showNeon(e.message);}
}

window.logout=async function(){
await signOut(auth);
userMenu.style.display="none";
showNeon("ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨");
}

onAuthStateChanged(auth,async(user)=>{
if(user){
const snap=await getDoc(doc(db,"users",user.uid));
if(snap.exists()){
loginBtn.innerText=snap.data().name;
}
}else{
loginBtn.innerText="ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ";
userMenu.style.display="none";
}
});

/* ================= LOGIN MODAL ================= */

window.showRegister=()=>{loginForm.style.display="none";registerForm.style.display="block";}
window.showLogin=()=>{registerForm.style.display="none";loginForm.style.display="block";}
window.openLogin=()=>loginModal.style.display="flex";
window.closeLogin=()=>loginModal.style.display="none";
window.goHome=()=>{page.style.display="none";}

/* ================= STARS ================= */

const canvas=document.getElementById("space");
const ctx=canvas.getContext("2d");

function resize(){
canvas.width=innerWidth;
canvas.height=innerHeight;
smokeCanvas.width=innerWidth;
smokeCanvas.height=innerHeight;
}
window.addEventListener("resize",resize);
resize();

let stars=[];
for(let i=0;i<250;i++){
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,s:Math.random()*0.5+0.2});
}

function animateStars(){
ctx.clearRect(0,0,canvas.width,canvas.height);
stars.forEach(st=>{
st.x-=st.s;
if(st.x<0)st.x=canvas.width;
ctx.fillStyle="white";
ctx.fillRect(st.x,st.y,1.5,1.5);
});
requestAnimationFrame(animateStars);
}
animateStars();

/* ================= SMOKE ================= */

const smokeCanvas=document.getElementById("smoke");
const smokeCtx=smokeCanvas.getContext("2d");

let smokes=[];
function createSmoke(){
return{x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*120+50,a:0.3};
}

function animateSmoke(){
smokeCtx.clearRect(0,0,innerWidth,innerHeight);
if(Math.random()<0.2)smokes.push(createSmoke());
smokes.forEach((s,i)=>{
s.a-=0.002;
let g=smokeCtx.createRadialGradient(s.x,s.y,0,s.x,s.y,s.r);
g.addColorStop(0,`rgba(200,200,200,${s.a})`);
g.addColorStop(1,"transparent");
smokeCtx.fillStyle=g;
smokeCtx.beginPath();
smokeCtx.arc(s.x,s.y,s.r,0,Math.PI*2);
smokeCtx.fill();
if(s.a<=0)smokes.splice(i,1);
});
requestAnimationFrame(animateSmoke);
}
animateSmoke();

/* ================= PRODUCTS ================= */

const data={
HOODIES:[
{name:"Black Hoodie",img:"https://images.unsplash.com/photo-1618354691373-d851c5c3a990",price:"50$"},
{name:"Street Hoodie",img:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf",price:"55$"},
{name:"Oversize Hoodie",img:"https://images.unsplash.com/photo-1591047139829-d91aecb6caea",price:"60$"}
],
PANTS:[
{name:"Black Pants",img:"https://images.unsplash.com/photo-1584865288642-42078afe6942",price:"40$"},
{name:"Cargo Pants",img:"https://images.unsplash.com/photo-1617957743098-9e6d0e6f2d14",price:"48$"},
{name:"Street Fit Pants",img:"https://images.unsplash.com/photo-1602293589930-45aad59ba3ab",price:"52$"}
],
ACCESSORIES:[
{name:"Cap",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f",price:"20$"},
{name:"Silver Chain",img:"https://images.unsplash.com/photo-1602752250015-52934bc45613",price:"25$"},
{name:"Backpack",img:"https://images.unsplash.com/photo-1581605405669-fcdf81165afa",price:"35$"}
]
};

window.openCategory=function(cat){
page.style.display="flex";
products.innerHTML="";
categoryTitle.innerText=cat;

data[cat].forEach(p=>{
products.innerHTML+=`
<div class="product" onclick='showDetail("${p.name}","${p.img}","${p.price}")'>
<img src="${p.img}">
<div>${p.name}</div>
<div style="color:#ffd700">${p.price}</div>
</div>`;
});
}

window.showDetail=function(n,i,p){
detail.style.display="flex";
detailBox.innerHTML=`
<div class="closeX" onclick="detail.style.display='none'">‚úñ</div>
<h3>${n}</h3>
<img src="${i}" style="width:100%;border-radius:10px;margin-top:15px">
<div style="margin-top:10px;color:#ffd700">${p}</div>
`;
}

</script>

</body>
</html>
