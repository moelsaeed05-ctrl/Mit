<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIT STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{background:black;color:white;overflow:hidden;}
#space{position:fixed;inset:0;z-index:0;pointer-events:none;}

.logo{
position:absolute;
top:20px;
left:50%;
transform:translateX(-50%);
font-size:28px;
letter-spacing:6px;
z-index:10;
}

.headerIcons{
position:absolute;
top:20px;
right:20px;
display:flex;
gap:18px;
z-index:20;
font-size:22px;
cursor:pointer;
}

.cartCount{
position:absolute;
top:-8px;
right:-8px;
background:red;
font-size:11px;
padding:2px 6px;
border-radius:50%;
}

.closeX{
position:absolute;
top:15px;
left:15px;
font-size:22px;
cursor:pointer;
color:#ff4444;
}

.neonMessage{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
padding:20px 40px;
border-radius:15px;
background:#111;
font-size:22px;
display:none;
z-index:200;
color:#00ffcc;
text-align:center;
box-shadow:0 0 10px #00ffcc,0 0 20px #00ffcc,0 0 40px #00ffcc,0 0 80px #00ffcc;
}

.menu{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
gap:35px;
z-index:10;
width:80%;
align-items:center;
}

.item{
cursor:pointer;
font-size:22px;
padding:12px 30px;
border-radius:12px;
transition:.4s;
}
.item:hover{text-shadow:0 0 10px #ffd700;}

.fullscreen{
position:fixed;
inset:0;
background:black;
display:none;
flex-direction:column;
align-items:center;
z-index:40;
padding-top:90px;
overflow:auto;
}

.products{
display:flex;
gap:20px;
flex-wrap:wrap;
justify-content:center;
width:95%;
position:relative;
z-index:5;
}

.product{
background:#111;
padding:12px;
border-radius:14px;
width:150px;
cursor:pointer;
transition:.4s;
}

.product img{
width:100%;
border-radius:8px;
margin-bottom:8px;
}

.product:hover{
transform:scale(1.08);
box-shadow:0 0 10px #ffd700;
}

.smokeCanvas{
position:absolute;
inset:0;
z-index:1;
pointer-events:none;
}

.detail{
position:fixed;
inset:0;
background:rgba(0,0,0,.95);
display:none;
justify-content:center;
align-items:center;
z-index:60;
}

.detailBox{
background:#111;
padding:25px;
border-radius:18px;
text-align:center;
width:300px;
position:relative;
}

.loginModal{
position:fixed;
inset:0;
background:rgba(0,0,0,.9);
display:none;
justify-content:center;
align-items:center;
z-index:80;
}

.loginBox{
background:#111;
padding:30px;
border-radius:18px;
width:320px;
text-align:center;
position:relative;
}

.loginBox input{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:6px;
background:#222;
color:white;
}

button{
padding:10px;
margin-top:10px;
border:none;
border-radius:8px;
background:#ffd700;
cursor:pointer;
width:100%;
}
</style>
</head>

<body>

<canvas id="space"></canvas>
<div class="neonMessage" id="neonMsg"></div>

<div class="logo">
<span style="color:#ffd700">ğ”</span>
<span style="color:#ff1a1a">ğ”¦</span>
<span style="color:#ffd700">ğ”—</span>
</div>

<div class="headerIcons">
<div onclick="openLogin()">ğŸ‘¤</div>

<div style="position:relative" onclick="openCart()">
ğŸ›’
<span id="cartCount" class="cartCount">0</span>
</div>

<div onclick="openOrders()">ğŸ“œ</div>
<div onclick="logout()" id="logoutBtn" style="display:none">ğŸšª</div>
</div>

<div class="menu">
<div class="item" onclick="openCategory('HOODIES')">HOODIES</div>
<div class="item" onclick="openCategory('PANTS')">PANTS</div>
<div class="item" onclick="openCategory('ACCESSORIES')">ACCESSORIES</div>
</div>

<div class="fullscreen" id="page">
<div class="closeX" onclick="goHome()">âœ–</div>
<canvas class="smokeCanvas" id="smoke"></canvas>
<div id="categoryTitle" style="font-size:26px;margin-bottom:20px"></div>
<div class="products" id="products"></div>
</div>

<div class="detail" id="detail">
<div class="detailBox" id="detailBox"></div>
</div>

<div class="fullscreen" id="cartPage">
<div class="closeX" onclick="cartPage.style.display='none'">âœ–</div>
<h2>Ø§Ù„Ø³Ù„Ø©</h2>
<div id="cartItems"></div>
<h3 id="totalPrice"></h3>
<button onclick="checkout()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡</button>
</div>

<div class="fullscreen" id="ordersPage">
<div class="closeX" onclick="ordersPage.style.display='none'">âœ–</div>
<h2>Ø³Ø¬Ù„ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
<div id="ordersList"></div>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

const firebaseConfig={
apiKey:"YOUR_KEY",
authDomain:"YOUR_DOMAIN",
projectId:"YOUR_ID",
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);

let cart=[];
let orders=[];

function showNeon(text){
neonMsg.innerText=text;
neonMsg.style.display="block";
setTimeout(()=>{neonMsg.style.display="none";},3000);
}

window.logout=async function(){
await signOut(auth);
showNeon("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬");
}

onAuthStateChanged(auth,(user)=>{
logoutBtn.style.display=user?"block":"none";
});

const data={
HOODIES:[{name:"Black Hoodie",img:"https://images.unsplash.com/photo-1618354691373-d851c5c3a990",price:50}],
PANTS:[{name:"Black Pants",img:"https://images.unsplash.com/photo-1584865288642-42078afe6942",price:40}],
ACCESSORIES:[{name:"Cap",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f",price:20}]
};

window.openCategory=function(cat){
page.style.display="flex";
products.innerHTML="";
categoryTitle.innerText=cat;

data[cat].forEach(p=>{
products.innerHTML+=`
<div class="product" onclick='showDetail("${p.name}","${p.img}",${p.price})'>
<img src="${p.img}">
<div>${p.name}</div>
<div style="color:#ffd700">${p.price}$</div>
</div>`;
});
}

window.showDetail=function(n,i,p){
detail.style.display="flex";
detailBox.innerHTML=`
<div class="closeX" onclick="detail.style.display='none'">âœ–</div>
<h3>${n}</h3>
<img src="${i}" style="width:100%;border-radius:10px;margin-top:15px">
<div style="margin-top:10px;color:#ffd700">${p}$</div>

<select id="sizeSelect" style="margin-top:10px;width:100%;padding:8px;background:#222;color:white;border:none;border-radius:6px">
<option>S</option><option>M</option><option>L</option><option>XL</option>
</select>

<input type="number" id="qtyInput" value="1" min="1"
style="margin-top:10px;width:100%;padding:8px;background:#222;color:white;border:none;border-radius:6px">

<button onclick="addToCart('${n}','${i}',${p})">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
`;
}

window.addToCart=function(n,i,p){
let size=sizeSelect.value;
let qty=parseInt(qtyInput.value);

cart.push({name:n,img:i,price:p,size,qty});
cartCount.innerText=cart.length;

showNeon("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø© âœ¨");
detail.style.display="none";
}

window.openCart=function(){
cartPage.style.display="flex";
renderCart();
}

function renderCart(){
cartItems.innerHTML="";
let total=0;

cart.forEach((item,index)=>{
total+=item.price*item.qty;

cartItems.innerHTML+=`
<div style="background:#111;padding:10px;margin:10px;border-radius:10px">
<img src="${item.img}" width="60"><br>
${item.name}<br>
Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}<br>
Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.qty}<br>
Ø§Ù„Ø³Ø¹Ø±: ${item.price*item.qty}$<br>
<button onclick="removeItem(${index})">Ø­Ø°Ù</button>
</div>
`;
});

totalPrice.innerText="Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: "+total+"$";
}

window.removeItem=function(i){
cart.splice(i,1);
cartCount.innerText=cart.length;
renderCart();
showNeon("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬");
}

window.checkout=function(){
if(cart.length==0){showNeon("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");return;}
orders.push([...cart]);
cart=[];
cartCount.innerText=0;
renderCart();
showNeon("ØªÙ… Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡ ğŸ‰");
}

window.openOrders=function(){
ordersPage.style.display="flex";
ordersList.innerHTML="";
orders.forEach((order,i)=>{
ordersList.innerHTML+=`
<div style="background:#111;padding:15px;margin:10px;border-radius:10px">
Ø·Ù„Ø¨ Ø±Ù‚Ù… ${i+1} - Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${order.length}
</div>
`;
});
}

window.goHome=()=>{page.style.display="none";}

</script>
</body>
</html>
