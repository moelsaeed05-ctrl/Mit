<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MIT STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}

body{
background:black;
color:white;
overflow:hidden;
}

/* النجوم */
.stars{
position:fixed;
width:100%;
height:100%;
background:url('https://i.ibb.co/6J9qK6k/stars.png');
animation:moveStars 60s linear infinite;
z-index:0;
}

@keyframes moveStars{
from{background-position:0 0;}
to{background-position:10000px 5000px;}
}

/* الدخان */
.smoke{
position:fixed;
top:0;
left:-300px;
width:300px;
height:100%;
background:linear-gradient(to right,rgba(255,255,255,0.4),transparent);
filter:blur(40px);
opacity:0;
z-index:2;
transition:1s;
}

.smoke.active{
left:100%;
opacity:1;
transition:10s linear;
}

/* الهيدر */
.header{
position:absolute;
top:20px;
right:20px;
z-index:3;
}

.profile{
width:45px;
height:45px;
border-radius:50%;
cursor:pointer;
}

/* قائمة تسجيل */
.authBox{
position:absolute;
top:80px;
right:20px;
background:#111;
padding:20px;
border-radius:10px;
display:none;
flex-direction:column;
gap:10px;
z-index:3;
width:250px;
}

.authBox input{
padding:8px;
background:#222;
border:none;
color:white;
}

.authBox button{
padding:8px;
border:none;
background:#444;
color:white;
cursor:pointer;
}

/* الأيقونات */
.menu{
position:absolute;
top:40%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
gap:40px;
z-index:2;
}

.icon{
width:120px;
height:120px;
background:#111;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
font-size:18px;
border-radius:15px;
position:relative;
overflow:hidden;
}

.icon::after{
content:"✦";
position:absolute;
top:10px;
right:15px;
font-size:20px;
color:white;
}

/* المنتجات */
.products{
position:absolute;
top:20%;
left:50%;
transform:translateX(-50%);
display:none;
gap:20px;
flex-wrap:wrap;
width:80%;
justify-content:center;
z-index:2;
}

.product{
width:180px;
background:#111;
padding:15px;
border-radius:10px;
text-align:center;
}

.product img{
width:100%;
border-radius:10px;
}

.back{
position:absolute;
top:20px;
left:20px;
cursor:pointer;
display:none;
z-index:3;
}

</style>
</head>
<body>

<div class="stars"></div>
<div class="smoke" id="smoke"></div>

<div class="header">
<img src="https://i.ibb.co/4pDNDk1/avatar.png" class="profile" onclick="toggleAuth()">
</div>

<div class="authBox" id="authBox">
<div id="authContent">

<input id="username" placeholder="Name">
<input id="phone" placeholder="Phone">
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="signUp()">Create Account</button>
<button onclick="login()">Login</button>
<button onclick="googleLogin()">Login with Google</button>

</div>
<div id="userInfo" style="display:none;">
<p id="userName"></p>
<button onclick="logout()">Logout</button>
</div>
</div>

<div class="menu" id="menu">
<div class="icon" onclick="openProducts()">Hoodies</div>
<div class="icon" onclick="openProducts()">Pants</div>
<div class="icon" onclick="openProducts()">Accessories</div>
</div>

<div class="back" id="backBtn" onclick="goBack()">← Back</div>

<div class="products" id="products">
<div class="product">
<img src="https://i.ibb.co/ZYW3VTp/hoodie.jpg">
<p>Black Hoodie</p>
<p>500 EGP</p>
</div>

<div class="product">
<img src="https://i.ibb.co/JyqW3Y7/pants.jpg">
<p>Street Pants</p>
<p>450 EGP</p>
</div>

<div class="product">
<img src="https://i.ibb.co/0jqHpnp/cap.jpg">
<p>Black Cap</p>
<p>200 EGP</p>
</div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, updateProfile, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_AUTH_DOMAIN",
projectId: "YOUR_PROJECT_ID",
storageBucket: "YOUR_BUCKET",
messagingSenderId: "YOUR_ID",
appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.signUp = async function(){
const email = email.value;
const password = password.value;
const usernameVal = username.value;

const user = await createUserWithEmailAndPassword(auth,email,password);
await updateProfile(user.user,{displayName:usernameVal});
alert("Account Created");
}

window.login = async function(){
await signInWithEmailAndPassword(auth,email.value,password.value);
alert("Logged In");
}

window.googleLogin = async function(){
const provider = new GoogleAuthProvider();
await signInWithPopup(auth,provider);
}

window.logout = function(){
signOut(auth);
}

onAuthStateChanged(auth,(user)=>{
if(user){
document.getElementById("authContent").style.display="none";
document.getElementById("userInfo").style.display="block";
document.getElementById("userName").innerText="Welcome "+user.displayName;
}else{
document.getElementById("authContent").style.display="block";
document.getElementById("userInfo").style.display="none";
}
});

</script>

<script>

function toggleAuth(){
const box=document.getElementById("authBox");
box.style.display=box.style.display=="flex"?"none":"flex";
box.style.flexDirection="column";
}

function openProducts(){
document.getElementById("menu").style.display="none";
document.getElementById("products").style.display="flex";
document.getElementById("backBtn").style.display="block";

let smoke=document.getElementById("smoke");
smoke.classList.add("active");

setTimeout(()=>{
smoke.classList.remove("active");
},10000);
}

function goBack(){
document.getElementById("menu").style.display="flex";
document.getElementById("products").style.display="none";
document.getElementById("backBtn").style.display="none";
}

</script>

</body>
</html>
