<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIT STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{overflow:hidden;background:black;color:white;}

.logo{
position:absolute;
top:25px;
left:50%;
transform:translateX(-50%);
font-size:65px;
letter-spacing:20px;
font-weight:bold;
white-space:nowrap;
z-index:10;
}

.yellow{color:#ffd700;}
.red{color:#ff1a1a;}

/* ÿ≤ÿ±ÿßÿ± ÿßŸÑÿßÿ≥ŸÖ */
#userArea{
position:absolute;
top:20px;
right:25px;
background:#ffd700;
color:black;
padding:6px 14px;
border-radius:15px;
font-weight:bold;
font-size:13px;
cursor:pointer;
z-index:10;
box-shadow:0 0 10px rgba(255,215,0,0.5);
}

/* ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ±ÿ¨Ÿàÿπ */
.backBtn{
position:absolute;
top:20px;
left:25px;
background:#ffd700;
color:black;
padding:5px 12px;
border-radius:12px;
font-weight:bold;
font-size:12px;
cursor:pointer;
display:none;
z-index:10;
box-shadow:0 0 10px rgba(255,215,0,0.5);
}

.menu{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
gap:40px;
align-items:center;
z-index:10;
}

.item{
font-size:22px;
letter-spacing:3px;
cursor:pointer;
transition:0.3s;
}

.item:hover{
transform:scale(1.2);
color:#ffd700;
}

.sectionTitle{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:40px;
display:none;
z-index:10;
letter-spacing:5px;
}

canvas{
position:fixed;
top:0;
left:0;
}
</style>
</head>

<body>

<canvas id="space"></canvas>

<div class="logo">
<span class="yellow">ùîê</span>
<span class="red">ùî¶</span>
<span class="yellow">ùîó</span>
</div>

<div id="userArea">LOGIN</div>
<div class="backBtn" id="backBtn">BACK</div>

<div class="menu" id="menu">
<div class="item" onclick="openSection('HOODIES')">HOODIES</div>
<div class="item" onclick="openSection('PANTS')">PANTS</div>
<div class="item" onclick="openSection('ACCESSORIES')">ACCESSORIES</div>
</div>

<div class="sectionTitle" id="sectionTitle"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, doc, getDoc }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyA1X_1BlviMDKKUGnA8yfG6NCrfS65h524",
authDomain: "mit-store-bd580.firebaseapp.com",
projectId: "mit-store-bd580",
storageBucket: "mit-store-bd580.firebasestorage.app",
messagingSenderId: "382577223227",
appId: "1:382577223227:web:a04cab6663731c1106de1e"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const userArea=document.getElementById("userArea");

onAuthStateChanged(auth,async(user)=>{
if(user){
const snap=await getDoc(doc(db,"users",user.uid));
const data=snap.data();
userArea.innerHTML=data.name+"<br><span style='font-size:10px'>Logout</span>";
userArea.onclick=()=>signOut(auth).then(()=>location.reload());
}else{
userArea.innerHTML="LOGIN";
userArea.onclick=()=>window.location.href="auth.html";
}
});

/* Canvas */

const canvas=document.getElementById("space");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let stars=[];
for(let i=0;i<200;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
size:Math.random()*1.5,
speed:Math.random()*0.5
});
}

let smokes=[];
let smokeActive=false;

function createSmoke(){
return{
x:-50,
y:Math.random()*canvas.height,
radius:40,
alpha:0.5,
speed:2
};
}

function drawStars(){
stars.forEach(s=>{
s.x-=s.speed;
if(s.x<0)s.x=canvas.width;
ctx.fillStyle="white";
ctx.beginPath();
ctx.arc(s.x,s.y,s.size,0,Math.PI*2);
ctx.fill();
});
}

function drawSmoke(){

if(smokeActive && Math.random()<0.4){
smokes.push(createSmoke());
}

smokes.forEach((s,i)=>{
s.x+=s.speed;
s.radius+=0.5;

if(!smokeActive){s.alpha-=0.01;}

let g=ctx.createRadialGradient(s.x,s.y,0,s.x,s.y,s.radius);
g.addColorStop(0,`rgba(200,200,200,${s.alpha})`);
g.addColorStop(1,"rgba(0,0,0,0)");
ctx.fillStyle=g;
ctx.beginPath();
ctx.arc(s.x,s.y,s.radius,0,Math.PI*2);
ctx.fill();

if(s.alpha<=0)smokes.splice(i,1);
});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
drawStars();
drawSmoke();
requestAnimationFrame(animate);
}
animate();

/* ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ */

const menu=document.getElementById("menu");
const backBtn=document.getElementById("backBtn");
const sectionTitle=document.getElementById("sectionTitle");

window.openSection=function(name){
menu.style.display="none";
backBtn.style.display="block";
sectionTitle.style.display="block";
sectionTitle.innerText=name;
smokeActive=true;
}

backBtn.onclick=function(){
menu.style.display="flex";
backBtn.style.display="none";
sectionTitle.style.display="none";
smokeActive=false;
smokes=[];
}

</script>
</body>
</html>
