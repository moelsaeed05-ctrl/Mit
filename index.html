<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIT STORE</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}
body{overflow:hidden;background:black;color:white;}

.logo{
position:absolute;
top:30px;
left:50%;
transform:translateX(-50%);
font-size:70px;
letter-spacing:20px;
font-weight:bold;
white-space:nowrap;
z-index:10;
}

.yellow{color:#ffd700;}
.red{color:#ff1a1a;}

#profilePic{
position:absolute;
top:25px;
right:35px;
width:32px;
height:32px;
border-radius:50%;
cursor:pointer;
z-index:10;
border:2px solid #ffd700;
transition:0.3s;
}
#profilePic:hover{transform:scale(1.15);}

.backBtn{
position:absolute;
top:22px;
left:35px;
width:38px;
height:38px;
border-radius:50%;
background:#ffd700;
color:black;
display:none;
align-items:center;
justify-content:center;
font-size:20px;
font-weight:bold;
cursor:pointer;
z-index:10;
transition:0.3s;
}
.backBtn:hover{transform:scale(1.2);}

.menu{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
display:flex;
flex-direction:column;
gap:40px;
align-items:center;
z-index:10;
}

.item{
font-size:22px;
letter-spacing:3px;
cursor:pointer;
transition:0.3s;
}
.item:hover{
transform:scale(1.2);
color:#ffd700;
}

.sectionTitle{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:40px;
display:none;
z-index:10;
letter-spacing:5px;
}

canvas{
position:fixed;
top:0;
left:0;
}
</style>
</head>

<body>

<canvas id="space"></canvas>

<div class="logo">
<span class="yellow">ğ”</span>
<span class="red">ğ”¦</span>
<span class="yellow">ğ”—</span>
</div>

<img id="profilePic" src="https://cdn-icons-png.flaticon.com/512/847/847969.png">
<div class="backBtn" id="backBtn">â†</div>

<div class="menu" id="menu">
  <div class="item" onclick="openSection('HOODIES')">HOODIES</div>
  <div class="item" onclick="openSection('PANTS')">PANTS</div>
  <div class="item" onclick="openSection('ACCESSORIES')">ACCESSORIES</div>
</div>

<div class="sectionTitle" id="sectionTitle"></div>

<script>

// ===== Canvas Setup =====
const canvas=document.getElementById("space");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

window.onresize=function(){
canvas.width=innerWidth;
canvas.height=innerHeight;
}

// ===== Stars =====
let stars=[];
for(let i=0;i<200;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
size:Math.random()*1.5,
speed:Math.random()*0.6
});
}

function drawStars(){
stars.forEach(s=>{
s.x-=s.speed;
if(s.x<0)s.x=canvas.width;
ctx.fillStyle="white";
ctx.beginPath();
ctx.arc(s.x,s.y,s.size,0,Math.PI*2);
ctx.fill();
});
}

// ===== Smoke System (Ø·Ø¨Ù‚ØªÙŠÙ† + Ø±ÙŠØ­) =====
let smokes=[];
let smokeActive=false;
let lastPuff=0;

function createSmoke(type){

let heavy = type==="heavy";

return{
x:-120 + Math.random()*60,
y:canvas.height*0.2 + Math.random()*(canvas.height*0.6),
radius: heavy ? 40+Math.random()*50 : 20+Math.random()*25,
alpha: heavy ? 0.7 : 0.35,
speed: heavy ? 1.5+Math.random()*1 : 2+Math.random()*1.5,
spread: heavy ? 0.6 : 0.3,
windOffset: Math.random()*1000,
type:type
}
}

function drawSmoke(){

let now=Date.now();

// Ù†ÙØ®Ø© ÙƒÙ„ 300ms
if(smokeActive && now-lastPuff>300){

// Ø¯Ø®Ø§Ù† ØªÙ‚ÙŠÙ„
for(let i=0;i<4;i++){
smokes.push(createSmoke("heavy"));
}

// Ø¯Ø®Ø§Ù† Ø®ÙÙŠÙ
for(let i=0;i<6;i++){
smokes.push(createSmoke("light"));
}

lastPuff=now;
}

smokes.forEach((s,i)=>{

// Ø­Ø±ÙƒØ© ÙŠÙ…ÙŠÙ†
s.x+=s.speed;

// ØªØ£Ø«ÙŠØ± Ø±ÙŠØ­ (Ù…ÙˆØ¬Ø© sine)
let wind = Math.sin((Date.now()/500)+(s.windOffset)) * 0.8;
s.y += wind;

// Ø§Ù†ØªØ´Ø§Ø±
s.radius+=s.spread;

// Ø§Ø®ØªÙØ§Ø¡ ØªØ¯Ø±ÙŠØ¬ÙŠ
s.alpha-=0.002;

let gradient=ctx.createRadialGradient(
s.x,s.y,0,
s.x,s.y,s.radius
);

if(s.type==="heavy"){
gradient.addColorStop(0,`rgba(220,220,220,${s.alpha})`);
gradient.addColorStop(0.4,`rgba(180,180,180,${s.alpha*0.7})`);
}else{
gradient.addColorStop(0,`rgba(200,200,200,${s.alpha})`);
gradient.addColorStop(1,"rgba(0,0,0,0)");
}

ctx.fillStyle=gradient;
ctx.beginPath();
ctx.arc(s.x,s.y,s.radius,0,Math.PI*2);
ctx.fill();

// Ø­Ø°Ù Ù„Ùˆ Ø§Ø®ØªÙÙ‰ Ø£Ùˆ ÙˆØµÙ„ 3/4 Ø§Ù„Ø´Ø§Ø´Ø©
if(s.alpha<=0 || s.x>canvas.width*0.75){
smokes.splice(i,1);
}

});
}

// ===== Animation =====
function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
drawStars();
drawSmoke();
requestAnimationFrame(animate);
}
animate();

// ===== Sections =====
const menu=document.getElementById("menu");
const backBtn=document.getElementById("backBtn");
const sectionTitle=document.getElementById("sectionTitle");

window.openSection=function(name){
menu.style.display="none";
backBtn.style.display="flex";
sectionTitle.style.display="block";
sectionTitle.innerText=name;
smokeActive=true;
}

backBtn.onclick=function(){
menu.style.display="flex";
backBtn.style.display="none";
sectionTitle.style.display="none";
smokeActive=false;
smokes=[];
}

</script>

</body>
</html>
